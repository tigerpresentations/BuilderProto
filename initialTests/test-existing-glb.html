<!DOCTYPE html>
<html>
<head>
    <title>Test Existing GLB</title>
</head>
<body>
    <div id="output"></div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script>
        const loader = new THREE.GLTFLoader();
        const output = document.getElementById('output');
        
        loader.load('91x91.glb', (gltf) => {
            output.innerHTML = '<h3>Materials found in 91x91.glb:</h3>';
            
            const materials = new Map();
            
            gltf.scene.traverse((child) => {
                if (child.isMesh && child.material) {
                    const material = child.material;
                    const materialName = material.name || 'Unnamed';
                    
                    if (!materials.has(materialName)) {
                        materials.set(materialName, {
                            name: materialName,
                            meshes: [],
                            hasUV: child.geometry.attributes.uv ? 'Yes' : 'No'
                        });
                    }
                    materials.get(materialName).meshes.push(child.name || 'Unnamed mesh');
                }
            });
            
            materials.forEach((material, name) => {
                const div = document.createElement('div');
                const isDetectable = name.toLowerCase().includes('surface') || 
                                   name.toLowerCase().includes('panel') ||
                                   name.toLowerCase().includes('image');
                
                div.innerHTML = `
                    <p><strong>${name}</strong> ${isDetectable ? '✅ DETECTABLE' : '❌ Not detectable'}</p>
                    <p>UV Mapping: ${material.hasUV}</p>
                    <p>Used by: ${material.meshes.join(', ')}</p>
                    <hr>
                `;
                output.appendChild(div);
            });
        }, undefined, (error) => {
            output.innerHTML = `<p>Error loading GLB: ${error}</p>`;
        });
    </script>
</body>
</html>